{% extends "base.html" %}

{% block title %}
Pagar con {{ method }}
{% endblock %}

{% block head %}
<style>
  .payment-section {
    min-height: 100vh;
    position: relative;
    padding: 80px 0;
    box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.3);
  }

  .payment-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:  linear-gradient(135deg, 
        rgba(34, 10, 139, 0.541) 0%, 
        rgba(4, 3, 75, 0.9) 100%);
    z-index: 1;
  }

  .payment-section .container {
    position: relative;
    z-index: 2;
    color: #fff;
  }

  .payment-form {
    background: rgba(255, 255, 255, 0.15);
    padding: 2rem;
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    max-width: 600px;
    margin: 0 auto;
  }

  .form-control {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    margin-bottom: 1rem;
    padding: 0.8rem;
    transition: all 0.3s ease;
  }

  .form-control:focus {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.5);
    box-shadow: 0 0 0 0.25rem rgba(255, 255, 255, 0.1);
    color: white;
  }

  .form-control::placeholder {
    color: rgba(255, 255, 255, 0.7);
  }

  .submit-btn {
    width: 100%;
    padding: 12px;
    font-size: 1rem;
    font-weight: 600;
    background: var(--primary-blue);
    border: none;
    border-radius: 6px;
    color: white;
    margin-top: 1rem;
    box-shadow: 0 8px 25px rgba(30, 4, 124, 0.3);
    transition: all 0.3s ease;
  }

  .submit-btn:hover {
    background: var(--secondary-blue);
    transform: translateY(-2px);
    box-shadow: 0 12px 35px rgba(30, 4, 124, 0.5);
  }

  .back-btn {
    padding: 12px 25px;
    font-size: 0.90rem;
    box-shadow: 0 8px 25px rgba(30, 4, 124, 0.3);
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.5);
    text-decoration: none;
    color: white;
    display: inline-block;
    margin-top: 1rem;
  }

  .back-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-3px);
    box-shadow: 0 15px 35px rgba(30, 4, 124, 0.5);
    border-color: rgba(255, 255, 255, 0.8);
    color: white;
  }

  .expiry-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
</style>
{% endblock %}

{% block body %}
<div class="payment-section">
  <div class="container">
    <div data-aos="fade-up" data-aos-duration="1000" class="text-center">
      <h2 class="display-5 fw-bold mb-4">Pago con {{ method }}</h2>
      <p class="text-white-50 mb-4">
        Acá podrá pagar con {{ method }} utilizando una tarjeta del banco en cuestión.
      </p>
    </div>

    <div class="payment-form" data-aos="fade-up" data-aos-delay="200">
      <form method="POST" action="do/{{ type }}">
        <div class="mb-3">
          <label for="name" class="form-label">Nombre</label>
          <input name="name" id="name" class="form-control" required>
        </div>

        <div class="mb-3">
          <label for="surname" class="form-label">Apellido</label>
          <input name="surname" id="surname" class="form-control" required>
        </div>

        <div class="mb-3">
          <label for="card_number" class="form-label">Número de tarjeta</label>
          <input name="card_number" pattern="[0-9]+" id="card_number" class="form-control" maxlength="18" required>
        </div>

        <div class="expiry-group mb-3">
          <div>
            <label for="expire_year" class="form-label">Año de expiración</label>
            <input name="expire_year" pattern="[0-9]+" maxlength="4" id="expire_year" class="form-control" required>
          </div>
          <div>
            <label for="expire_month" class="form-label">Mes de expiración</label>
            <input name="expire_month" pattern="[0-9]+" maxlength="2" id="expire_month" class="form-control" required>
          </div>
        </div>

        <div class="mb-3">
          <label for="cvv" class="form-label">Código de seguridad (tres dígitos)</label>
          <input name="cvv" id="cvv" maxlength="3" pattern="[0-9]+" class="form-control" required>
        </div>

        <input hidden name="csrf_token" value="{{ csrf_token() }}">
        <input hidden name="method_name" value="{{ method }}">
        <button type="submit" class="submit-btn">
          <i class="fas fa-credit-card me-2"></i>
          Pagar
        </button>
      </form>
    </div>

    <div class="text-center mt-4" data-aos="fade-up" data-aos-delay="400">
      <a href="cancel" class="back-btn">
        <i class="fas fa-arrow-left me-2"></i>
        Cancelar y volver
      </a>
    </div>
  </div>
</div>
{% endblock %}